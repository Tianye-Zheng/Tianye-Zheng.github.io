---
layout: post
title:  "操作系统笔记1-内存管理"
date:   2020-08-16
desc: ""
keywords: ""
categories: [Java]
tags: []
icon: icon-html
---

自 [王道考研 操作系统 2019](https://www.bilibili.com/video/BV1YE411D7nH?p=32) 的视频

<br />

## 内存的基础知识

`编译` ： 把高级语言翻译成机器语言

`链接` ： 由链接程序将编译后形成的一组目标模块，以及所需库函数链接在一起，形成一个完整的装入模块

`装入（装载）` ： 将模块装入内存中运行

<br />
### 装入的三种方式

1. `绝对装入` ： 在编译时，如果知道程序将放在内存中的哪个位置，编译程序将产生绝对地址的目标代码。**只适用于单道程序环境**
2. `静态重定位` ： 又称**可重定位装入**。编译、链接后的装入模块的地址都是从 0 开始的。装入时对地址进行**重定位**，将逻辑地址变换为物理地址
3. `动态重定位` ： 又称**动态运行时装入**。编译链接后的装入模块地址从 0 开始。模块装入内存后不会进行地址转换，而是把这个过程推迟到执行时进行，维护一个**重定位寄存器**。

<br />
### 链接的三种方式

1. `静态链接` ： 在程序运行之前，先将各目标模块及它们所需的库函数连接成一个完整的可执行文件（装入模块），之后不再拆开。
2. `装入时动态链接` ： 将各目标模块装入内存时，边装入边链接的链接方式
3. `运行时动态链接` ： 在程序执行中需要该目标模块时，才对它进行链接。其优点是便于修改和更新，便于实现对目标模块的共享。

<br />
## 内存管理

内存管理要管些什么呢？

1. 操作系统负责**内存空间的分配与回收**
2. 操作系统需要提供某种技术从逻辑上**对内存空间进行扩充**
3. 操作系统需要提供**地址转换功能**，负责程序的逻辑地址与物理地址的转换
4. 操作系统需要提供**内存保护**功能，保证各进程在各自存储空间内运行，互不干扰

内存空间扩充技术：

1. 覆盖技术
2. 交换技术
3. 虚拟存储技术（后续章节细聊）

`覆盖技术` ：缺点是**必须由程序员声明覆盖结构**，操作系统完成自动覆盖。**对用户不透明**，增加编程负担，只用于早期的操作系统中。

1. 将程序分为多个段（多个模块），常用的段常驻内存，不常用的段在需要时调入内存
2. 内存中分为**一个“固定区”**和**若干个“覆盖区”**
3. 需要常驻内存的段放在“**固定区**”中，**调入后就不再调出**（除非运行结束）
4. 不常用的段放在“**覆盖区**”，需要用到时调入内存，**用不到时调出内存**

中级调度就是为了实现交换技术所采用的一种策略